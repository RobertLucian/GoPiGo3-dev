language: python
branches:
  except:
    - /^v(\d+\.)?(\d+\.)?(\*|\d+)$/
before_script:
  - chmod +x semantic_release.sh && ./semantic_release.sh
script:
  - chmod +x build.sh && ./build.sh
  - chmod +x assets_release.sh && ./assets_release.sh
deploy:
  skip_cleanup: true
  provider: packagecloud
  repository: develop
  username: twine
  token:
    secure: "${PACKAGECLOUD_TOKEN}"
  dist: python
  local-dir: src/dist
  on:
    all_branches: true
env:
  global:
    - secure: oyl+danWkBEFsxcO3gowleibznKKaTuoN2w3YxpblHOrpX/0Ye7T06qdnHBfIqDqJpf5KcpnEnQ+IS/K3XsOJrMKsbx5z9XZ06eVUHKFWEc/PJ3mI411/viZFAux/QDB5C3BYce/p7X57XQBwxlIPR9hs7mGkilBSkuiBES+JXGtUFT3KP+PlFv6j+LaPlji4YiycutGy+ckr3v8BM8ppzJGDbBAL0rbOiIiJR0fW/WEqerP8Y6fiy8M2JkksdQoSD6i9TsJrqFlrFz1/kHOqBuqAsw1W9b3YR5VaCH8XnT2FBc9n0ouew/50a9mcLC7kRhWp5HGpgVcThv6tbPO7XN7nTKME+UHoA2kOp+QzLGsvj7o/4CP0MS4zZQJ3wVaKSZIKvcSMOxzVMvsyV+Aueu2x++kyru6grAyycIcs68VNxraGxaFIFONkBI96KkNNQMdWMTGMcxFjYOXbWRjKJGwt/bgFLVdZOm0oFmYOR5J99WF+Odd6BzB2t6iWncGfF8hfn7u70ZdUl1Ah3nc8aCxe5OmALYZO32amfJkaHQgDqjDiwsvMZVaRRhvhccc2MuBmcwS4Cq2ZWbCBkFSQhQykbLjoLi31HTmcFYuInyYYuLw4y9triJZi64PPMFks/F06+OOiSE2IwYBND3Q45TMbtrKToLIgCzLNcP5KF4=
    - secure: hDq1DJINIwKTTjL0zMOE9YGCo5q9zTCWdp2Yni3r7OonMD0jPjQyy6WT5eJ3C5/G6wXNevw8PMAGwIOy9k267VYJ3MIuNTPypnDeoNPKC6+wE7HP4Gef+CZGg+dSF7il4rIdCX3M76HkS9gYldG9Jp831uIWZRitTfuT787uNcWw36om5HGZyezXSp9PQzlQYhddwAldH8ZlTt5tbdc+6LBfSkQQJsnzsP+j7D4taHPlDRL/KSa3zTzwuNXm2sNimUMMDCgiBUsWNNpH+X+BMsZ1B9d3tRLaz4z2CNsoa/JS0qB7yWi/5/81Zu/B72SEXQAIhz/LhdGlZMd5ynJsxndyPXos/XLyukC7Sx0RDqmeZ5JdnYzK3aykIFncrpPyG7anrmLpSzgGRfNbbxZ6yYK8T7Acq3O/rspfUyysIBhxgkh5mBDplTPEnn5ZG30QX9czy5bXTW8uRu6Iit4X/2KIApytpcS2C2dWiDlyzp6M3THvm1AsRq3S/XjWr3wGE/eC5GtUjx5qD5b1Lfduq6sDH8ejdj+/ZDNlPkLSW2gl0onHi502+CrXczjAniy7SmSHXLNFa5iFHhvaC4AUXHobBnX9GO0BrbKUpqzVUsXSNofLG6zcBi/d4LR6lbTUoZX2DQbvmfw/mA/atIKgq+Mbj6Ci2+z8YMYKGsqEsd0=
